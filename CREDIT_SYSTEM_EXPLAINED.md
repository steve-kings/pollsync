# ğŸ’³ PollSync Credit System - Complete Guide

## Overview

PollSync uses a **voter credit system** where credits are used for:
1. **Creating elections** (based on voter limit)
2. **AI features** (10 credits per use)

**Credits are NOT deducted for voting!** Once an election is created, unlimited votes can be cast within the voter limit.

---

## ğŸ¯ How Credits Work

### 1. **Creating Elections**
When you create an election, credits are deducted based on the voter limit:

```
Voter Limit = Credits Needed

Examples:
- 50 voters = 50 credits
- 200 voters = 200 credits
- Unlimited = Special unlimited package
```

**Important:** Credits are deducted ONCE when creating the election, not per vote!

---

### 2. **Voting (FREE)**
Once an election is created:
- âœ… Voters can vote for FREE
- âœ… No credits deducted per vote
- âœ… Unlimited votes within the voter limit
- âœ… Real-time results

**Example:**
```
You create election with 100 voter limit
â†’ 100 credits deducted at creation
â†’ 100 people can vote
â†’ NO additional credits deducted when they vote
```

---

### 3. **AI Features (10 Credits Each)**

#### AI Dashboard Insights - 10 Credits
**What it does:**
- Analyzes your election activity
- Provides personalized recommendations
- Shows key highlights
- Suggests next steps

**How to use:**
1. Go to `/dashboard/ai-insights`
2. Click "Generate AI Insights (10 Credits)"
3. 10 credits deducted ONCE
4. View your insights

#### AI Fraud Detection - 10 Credits
**What it does:**
- Analyzes voting patterns
- Detects suspicious activity
- Provides risk assessment
- Gives recommendations

**How to use:**
1. Go to election details page
2. Click "Analyze Election (10 Credits)"
3. 10 credits deducted ONCE
4. View fraud analysis

#### AI Chatbot - FREE (Limited)
**What it does:**
- Answers questions about PollSync
- Provides support 24/7
- Helps with platform features

**Free tier:**
- 5 messages per day
- Resets every 24 hours
- No credit deduction

**Unlimited:**
- Purchase any credit package
- Unlimited chatbot access
- No daily limits

---

## ğŸ’° Credit Deduction Flow

### Creating Election:
```
1. User sets voter limit (e.g., 100)
2. System checks: Does user have 100 credits?
   â”œâ”€ YES â†’ Deduct 100 credits â†’ Create election
   â””â”€ NO â†’ Show error â†’ Redirect to pricing
```

### Voting:
```
1. Voter submits vote
2. System checks: Is election active? Is voter allowed?
   â”œâ”€ YES â†’ Record vote â†’ NO CREDIT DEDUCTION
   â””â”€ NO â†’ Show error
```

### AI Features:
```
1. User clicks "Generate AI Insights"
2. System checks: Does user have 10 credits?
   â”œâ”€ YES â†’ Deduct 10 credits â†’ Generate insights
   â””â”€ NO â†’ Show error â†’ Link to pricing
```

---

## ğŸ“Š Credit Usage Examples

### Example 1: Small Organization
**Purchase:** 50 credits (KES 500)

**Usage:**
- Create election with 30 voters â†’ 30 credits used
- Remaining: 20 credits
- Use AI Insights â†’ 10 credits used
- Remaining: 10 credits
- Use AI Fraud Detection â†’ 10 credits used
- Remaining: 0 credits

**Total:** 1 election + 2 AI features

---

### Example 2: Medium Organization
**Purchase:** 200 credits (KES 1,500)

**Usage:**
- Create election 1 with 50 voters â†’ 50 credits used
- Create election 2 with 100 voters â†’ 100 credits used
- Remaining: 50 credits
- Use AI Insights 3 times â†’ 30 credits used
- Remaining: 20 credits
- Use AI Fraud Detection 2 times â†’ 20 credits used
- Remaining: 0 credits

**Total:** 2 elections + 5 AI features

---

### Example 3: Large Organization
**Purchase:** Unlimited package (KES 5,000)

**Usage:**
- Create unlimited voter election â†’ 1 package used
- Unlimited votes can be cast
- Still need credits for AI features
- Purchase additional credits for AI

**Note:** Unlimited packages are for voter limits, not AI features!

---

## ğŸ” Checking Your Credits

### Dashboard:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Total Credits             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Recent Purchases: 50           â”‚
â”‚  Previous Purchases: 0          â”‚
â”‚  Unlimited: 0                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Total Available: 50 credits    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Credit History:
View all credit transactions:
- Purchases (additions)
- Election creations (deductions)
- AI feature usage (deductions)

---

## âš ï¸ Important Notes

### Credits are NOT deducted for:
- âŒ Casting votes
- âŒ Viewing results
- âŒ Managing elections
- âŒ Adding candidates
- âŒ Managing voters
- âŒ Viewing analytics (non-AI)

### Credits ARE deducted for:
- âœ… Creating elections (voter limit amount)
- âœ… AI Dashboard Insights (10 credits)
- âœ… AI Fraud Detection (10 credits)

### Chatbot:
- ğŸ†“ Free: 5 messages/day
- ğŸ’³ Unlimited: With any credit purchase

---

## ğŸ›’ Purchasing Credits

### Available Packages:
1. **Basic** - 50 credits - KES 500
2. **Standard** - 200 credits - KES 1,500
3. **Premium** - 500 credits - KES 3,000
4. **Enterprise** - Unlimited voters - KES 5,000

### How to Purchase:
1. Go to `/pricing`
2. Select package
3. Pay via M-PESA
4. Credits added instantly
5. Start creating elections or using AI

---

## ğŸ”’ Credit Security

### Server-Side Validation:
- âœ… All credit checks on server
- âœ… Cannot bypass with client code
- âœ… Atomic transactions (deduct + save together)
- âœ… Full audit trail in credit history

### Transaction History:
Every credit change is logged:
```javascript
{
    type: 'deduction',
    credits: 10,
    reason: 'AI Dashboard Insights',
    date: '2024-01-15T10:30:00Z'
}
```

---

## ğŸ“ˆ Credit Optimization Tips

### 1. Plan Your Elections:
- Calculate total voters needed
- Purchase appropriate package
- Avoid buying too many credits

### 2. Use AI Wisely:
- AI features cost 10 credits each
- Use when you need insights
- Don't generate repeatedly

### 3. Bulk Purchases:
- Larger packages = better value
- Premium: 500 credits for KES 3,000
- Better than 10x Basic packages

### 4. Unlimited Package:
- Best for large elections
- One-time use per election
- Still need credits for AI

---

## ğŸ‰ Summary

**Credit System:**
- ğŸ’° Buy credits once
- ğŸ—³ï¸ Create elections (voter limit = credits)
- ğŸ†“ Voting is FREE
- ğŸ¤– AI features cost 10 credits each
- ğŸ’¬ Chatbot: 5 free messages/day

**Key Points:**
1. Credits deducted ONCE when creating election
2. NO credits deducted when people vote
3. AI features require 10 credits per use
4. Chatbot has free tier (5 msgs/day)
5. All transactions logged in history

**Fair & Transparent:**
- âœ… Pay only for what you use
- âœ… No hidden fees
- âœ… Clear pricing
- âœ… Full transaction history
- âœ… Instant credit updates

---

## ğŸ“ Support

Questions about credits?
- Email: kingscreationagency635@gmail.com
- Check: `/pricing` for packages
- View: Credit history in dashboard
- Track: Real-time credit updates

---

**PollSync - Fair, Transparent, Affordable** ğŸš€
